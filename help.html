<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Online Schematics Editor — Help & Documentation</title>
<style>
  :root{ color-scheme: light dark; }
  body{
    margin:0;
    font:14px/1.45 "Segoe UI", Roboto, Arial, sans-serif;
    color:#111;
    background:#f7f8fb;
  }
  /* Center the content column, keep text left-aligned */
  .container{
    max-width: 900px;          /* controls how "wide" the help page can get */
    margin: 36px auto;         /* centers the column */
    padding: 0 24px;           /* keeps it off the edges on small screens */
    background:#fff;
    border:1px solid #e5e8f0;
    border-radius:16px;
    box-shadow: 0 10px 26px rgba(0,0,0,0.06);
    text-align: left;          /* ensure left-justified text */
  }
  h1{ font-size:28px; margin:20px 16px 6px; }
  h2{ font-size:20px; margin:18px 16px 6px; color:#2b3a67; }
  h3{ font-size:16px; margin:12px 16px 4px; color:#384766; }
  h4{ font-size:15px; margin:10px 16px 4px 32px; color:#384766; font-weight:600; }
  p, ul, ol{ margin: 8px 16px; }
  h4 + ul, h4 + p{ margin-left: 32px; }
  ul, ol{ padding-left: 22px; }
  .tip{ font-size:13px; color:#555; margin: 6px 16px 14px; }
  .note{ font-size:12px; color:#666; margin: 12px 16px 18px; }
  .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
  .kbd{ 
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
    padding: 2px 6px;
    background: #f0f0f0;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 12px;
  }
  @media (prefers-color-scheme: dark){
    body{ background:#0b0f18; color:#e6e6e6; }
    .container{
      background:#0d1220; border-color:#1f2636; box-shadow:none;
    }
    h2{ color:#b7c1ff; }
    h3{ color:#c5cbe9; }
    h4{ color:#c5cbe9; }
    .tip{ color:#9da6b8; }
    .note{ color:#8a93a8; }
    .kbd{ background: #1e2430; border-color: #3a4a68; }
  }
</style>
</head>
<body>
  <main class="container">
    <h1>Online Schematics Editor — Help &amp; Documentation</h1>

    <h2>Overview</h2>
    <p>The Online Schematics Editor is a web-based tool for creating electrical circuit schematics. It features wire routing, component placement, net management, and KiCad export capabilities.</p>

    <h2>Getting Started</h2>
    <h3>Interface Layout</h3>
    <ul>
      <li><b>Top Toolbar:</b> Mode buttons, component palette, zoom controls, and file operations</li>
      <li><b>Left Panel (Inspector):</b> Shows properties of the selected component or wire for editing</li>
      <li><b>Center Canvas:</b> Main drawing area with grid and coordinate display</li>
      <li><b>Right Panel (Project):</b> Net list, theme settings, and export options</li>
      <li><b>Status Bar (bottom of canvas):</b> Drawing aids (Ortho, Snap, Grid, Crosshair, Junctions, Tracking), Theme toggle, Units selector, and status indicators</li>
    </ul>

    <h2>Modes</h2>
    <p>Click a mode button in the toolbar or use keyboard shortcuts to switch between modes:</p>
    <ul>
      <li><b>Select (V):</b> Click components or wires to select and edit their properties</li>
      <li><b>Wire (W):</b> Draw wires between components to create connections</li>
      <li><b>Delete (X):</b> Click components or wires to remove them</li>
      <li><b>Place (1-9):</b> Place components on the canvas</li>
      <li><b>Pan (P):</b> Drag to pan around the canvas</li>
      <li><b>Move (M):</b> Drag components to reposition them</li>
    </ul>

    <h2>Drawing Wires</h2>
    <h3>Basic Wire Drawing</h3>
    <ol>
      <li>Click the <b>Wire</b> button or press <span class="kbd">W</span></li>
      <li>Click on the canvas or a component pin to start</li>
      <li>Move the mouse to preview the wire path</li>
      <li>Click to place each wire segment</li>
      <li>Right-click, press <span class="kbd">Enter</span>, or double-click to finish</li>
    </ol>

    <h3>Orthogonal Mode</h3>
    <ul>
      <li>Hold <span class="kbd">Shift</span> while drawing to force horizontal/vertical segments</li>
      <li>Click the <b>Ortho</b> button in the status bar or press <span class="kbd">O</span> to enable orthogonal mode permanently</li>
      <li>Useful for creating neat, aligned schematics</li>
      <li><b>Smart Override:</b> Clicking connection circles (green endpoint markers) bypasses ortho mode for precise connections to existing wire endpoints, even if they're not aligned horizontally or vertically</li>
      <li><b>Visual Feedback:</b> The Ortho button dims when hovering over non-orthogonal endpoints, indicating the override will activate</li>
    </ul>

    <h3>Connection Hints (Tracking)</h3>
    <ul>
      <li>When drawing near wire endpoints, connection hints appear as green dashed guide lines</li>
      <li>These help align new wires with existing ones on their X or Y axis</li>
      <li>Click the <b>Tracking</b> button in the status bar or press <span class="kbd">T</span> to toggle connection hints on/off</li>
      <li>Works with all snap modes and zoom levels</li>
      <li>Automatically engages ortho mode while tracking to maintain clean routing</li>
    </ul>
    
    <h3>Wire Snapping</h3>
    <ul>
      <li><b>Snap Priority:</b> Wire endpoints and component pins (highest), wire segments within 50 mils, then grid/snap mode</li>
      <li><b>Snap to Wire Segments:</b> You can start a new wire anywhere along an existing wire, not just at endpoints</li>
      <li>When your cursor is within 50 mils of a wire, it automatically snaps to the nearest point on that wire</li>
      <li>This allows for easy T-junctions and mid-wire connections</li>
      <li>Wire segment snapping overrides the current snap mode for intuitive connections</li>
    </ul>

    <h3>Wire Colors</h3>
    <ul>
      <li>Click the <b>Wire Color</b> button to choose colors for new wires</li>
      <li>Options: Auto, Black/White, Red, Green, Blue, Yellow, Magenta, Cyan</li>
      <li><b>Auto:</b> Wires inherit color from their assigned net</li>
      <li><b>Black/White:</b> Renders as white in dark theme, black in light theme</li>
    </ul>

    <h2>Placing Components</h2>
    <h3>Component Types</h3>
    <ul>
      <li><b>Resistor (1):</b> Two-terminal resistor with IEC (rectangular) or ANSI (zigzag) styles. Symbol height has been doubled for better visibility.</li>
      <li><b>Capacitor (2):</b> Two-terminal capacitor. Press <span class="kbd">Alt+C</span> to toggle between standard and polarized subtypes. Symbol height has been doubled for better visibility.</li>
      <li><b>Inductor (3):</b> Two-terminal inductor with coil symbol</li>
      <li><b>Diode (4):</b> Two-terminal diode with dropdown selector for subtypes (Generic, Schottky, Zener, LED, Photo diode, Tunnel diode, Varactor, Laser diode)</li>
      <li><b>Transistor (5):</b> Bipolar transistor (3 pins) with dropdown selector for NPN or PNP type</li>
      <li><b>Ground (6):</b> Ground symbol</li>
      <li><b>Battery (7):</b> DC voltage source</li>
      <li><b>AC (8):</b> AC voltage source</li>
    </ul>
    <p class="tip"><i>Note:</i> Toolbar icons now show visual symbols for inductors, diodes (with anode arrow), and transistors (with base, emitter, and collector) for easier identification.</p>

    <h3>Placement Process</h3>
    <ol>
      <li>Click a component button or press its number key</li>
      <li>A ghost outline follows your cursor</li>
      <li>Press <span class="kbd">R</span> to rotate 90° clockwise</li>
      <li>Click to place the component</li>
      <li>Two-pin components auto-align to nearby wires</li>
    </ol>

    <h3>Capacitor Subtypes</h3>
    <p>Capacitors support two subtypes, selectable via buttons in the component palette:</p>
    <ul>
      <li><b>Standard (C):</b> Non-polarized capacitor with two parallel plates</li>
      <li><b>Polarized (Alt+C):</b> Electrolytic/tantalum capacitor with polarity markings (+ and −). Style (IEC or ANSI) follows the project's resistor style setting.</li>
    </ul>
    <p class="tip"><i>Tip:</i> Use polarized capacitors for electrolytics and tantalum capacitors; use standard for ceramic and film capacitors.</p>

    <h3>Diode Subtypes</h3>
    <p>When Diode is selected in the toolbar, a dropdown appears with these options:</p>
    <ul>
      <li><b>Generic:</b> Standard diode symbol with triangle and line</li>
      <li><b>Schottky:</b> Diode with S-shaped cathode markings</li>
      <li><b>Zener:</b> Diode with Z-shaped cathode for voltage regulation</li>
      <li><b>LED:</b> Light-emitting diode with radiation arrows</li>
      <li><b>Photo diode:</b> Light-sensing diode with incoming radiation arrows</li>
      <li><b>Tunnel diode:</b> Diode with bidirectional cathode markings</li>
      <li><b>Varactor / Varicap:</b> Voltage-variable capacitor diode</li>
      <li><b>Laser diode:</b> Laser-emitting diode with parallel radiation lines</li>
    </ul>
    <p class="tip"><i>Tip:</i> All diode symbols are now precisely centered on the component coordinate for consistent alignment.</p>

    <h3>Transistor Types</h3>
    <p>When Transistor is selected in the toolbar, a dropdown appears with these options:</p>
    <ul>
      <li><b>NPN:</b> NPN bipolar transistor with emitter arrow pointing outward</li>
      <li><b>PNP:</b> PNP bipolar transistor with emitter arrow pointing inward</li>
    </ul>
    <p class="tip"><i>Tip:</i> Transistor symbols use industry-standard IEEE conventions with clear pin identification for base (B), collector (C), and emitter (E).</p>

    <h2>Editing Components &amp; Wires</h2>
    <h3>Selecting</h3>
    <ul>
      <li>Click <b>Select</b> mode or press <span class="kbd">V</span></li>
      <li>Click a component or wire to select it</li>
      <li>The Inspector panel shows editable properties</li>
      <li>Press <span class="kbd">Esc</span> to deselect</li>
    </ul>

    <h3>Component Properties</h3>
    <ul>
      <li><b>Label:</b> Reference designator (e.g., R1, C2, U3)</li>
      <li><b>Value:</b> Component value (e.g., 10kΩ, 100nF)</li>
      <li><b>Footprint:</b> PCB footprint reference</li>
      <li><b>Rotation:</b> 0°, 90°, 180°, or 270°</li>
      <li><b>Net assignments:</b> Manual net assignments for each pin</li>
    </ul>

    <h3>Wire Properties</h3>
    <ul>
      <li><b>Color mode:</b> Auto or explicit color choice</li>
      <li><b>Net assignment:</b> Which net this wire belongs to</li>
      <li><b>Width:</b> Visual line width in mm</li>
      <li><b>Style:</b> Solid or dashed</li>
      <li><b>Length:</b> Total length of the wire segment (read-only) displayed in current units</li>
    </ul>
    <p class="tip"><i>Note:</i> Each wire segment is treated as a separate object. Multi-segment paths will show individual segment lengths.</p>

    <h2>Grid &amp; Snapping</h2>
    <h3>Grid Display</h3>
    <ul>
      <li>Click the <b>Grid</b> button in the status bar or press <span class="kbd">G</span> to cycle: Lines → Dots → Off</li>
      <li>Grid helps align components and wires</li>
      <li><b>Grid Alignment:</b> Both line and dot grids are aligned to the base 50 mil snap grid at all zoom levels</li>
      <li><b>Zoom-Adaptive Spacing:</b> Grid spacing automatically adjusts using discrete multipliers (1×, 2×, or 5×) of the 50 mil base:
        <ul>
          <li><b>50 mil</b> (1× multiplier) — Zoom ≥ 1000% (10×): Shows every snap point for maximum precision</li>
          <li><b>100 mil</b> (2× multiplier) — Medium zoom: Shows every 2nd snap point for balanced visibility</li>
          <li><b>250 mil</b> (5× multiplier) — Zoom ≤ 25% (0.25×): Shows every 5th snap point to avoid clutter</li>
        </ul>
      </li>
      <li><b>Perfect Alignment:</b> Grid lines/dots always fall exactly on snap points, never between them</li>
      <li><b>Status Display:</b> Current grid spacing shown in status bar updates as you zoom in/out</li>
    </ul>

    <h3>Snap Modes</h3>
    <ul>
      <li>Click the <b>Snap</b> button in the status bar or press <span class="kbd">S</span> to cycle through modes:</li>
      <li><b>50mil:</b> Always snap to the base 50 mil grid (1.27 mm) regardless of zoom — ensures proper electrical connections at standard component pin spacing</li>
      <li><b>Grid:</b> Snap to currently visible grid lines or dots — spacing matches the Grid status (50 mil, 100 mil, or 250 mil depending on zoom level). Use this for faster rough layout at lower zoom levels.</li>
      <li><b>Off:</b> No snapping — free placement anywhere for custom positioning</li>
      <li><b>Wire Segment Priority:</b> When within 50 mils of any wire, snapping automatically locks to that wire, overriding the current snap mode</li>
      <li><b>Connection Circles:</b> Green endpoint markers always connect to exact wire positions for precise connections</li>
      <li><b>Status Display:</b> Current snap mode shown in status bar (50mil, grid, or off)</li>
    </ul>

    <h3>Coordinate Display</h3>
    <ul>
      <li>When drawing wires or placing components, current cursor position appears in upper left</li>
      <li>Shows snapped coordinates in your chosen units</li>
      <li>Format: <code>x, y units</code></li>
      <li>Automatically adjusts contrast for light and dark themes for optimal readability</li>
    </ul>

    <h3>Coordinate Input</h3>
    <p>For precise placement, you can type exact coordinates instead of clicking:</p>
    <ul>
      <li><b>Location:</b> X and Y input boxes appear in the status bar during Wire, Place, Move, and Junction modes</li>
      <li><b>Real-time Updates:</b> Input boxes automatically display current mouse coordinates (or component position in Move mode) as you move</li>
      <li><b>Keyboard Activation:</b> Press <span class="kbd">Ctrl+L</span> to focus the X input without moving the mouse
        <ul>
          <li>Your current coordinates are preserved</li>
          <li>Start typing immediately to replace the X value</li>
        </ul>
      </li>
      <li><b>Navigation:</b> Press <span class="kbd">Tab</span> to move from X to Y input</li>
      <li><b>Unit Support:</b> Include units after values (e.g., "100 mils", "2.54 mm", "0.1 in") or use current display units if omitted</li>
      <li><b>Accepting Coordinates:</b> Press <span class="kbd">Enter</span> to place a wire point, component, junction dot, or move selected component to the exact typed coordinates</li>
      <li><b>Cancel:</b> Press <span class="kbd">Esc</span> to exit input mode without placing or moving</li>
    </ul>

    <h3>Polar Coordinate Input (Wire Drawing)</h3>
    <p>After placing the first point of a wire, polar coordinate inputs (Length and Angle) appear alongside X/Y inputs:</p>
    <ul>
      <li><b>Length Input:</b> Specify the distance from the previous wire point
        <ul>
          <li>Supports units: "100 mils", "2.54 mm", "0.1 in"</li>
          <li>Uses current display units if no unit specified</li>
        </ul>
      </li>
      <li><b>Angle Input:</b> Specify the direction in degrees
        <ul>
          <li>0° = Right (positive X direction)</li>
          <li>90° = Up (positive Y direction)</li>
          <li>180° = Left (negative X direction)</li>
          <li>270° = Down (negative Y direction)</li>
          <li>Accepts any angle value (e.g., 45°, -30°, 135°)</li>
        </ul>
      </li>
      <li><b>Real-time Display:</b> Length and angle update as you move the mouse, showing distance and direction from the previous point</li>
      <li><b>Keyboard Navigation:</b> Press <span class="kbd">Ctrl+L</span> to cycle through X, Y, Length, and Angle inputs</li>
      <li><b>Placement:</b> Press <span class="kbd">Enter</span> after typing length and angle to place the wire point at the calculated position</li>
      <li><b>Combined with Cartesian:</b> You can switch between X/Y and Length/Angle inputs freely — both control the same point</li>
    </ul>
    <p class="tip"><i>Tip:</i> Use polar coordinates for precise angles and distances (e.g., "100 mils" at "45°"), or Cartesian coordinates for grid-aligned placement.</p>

    <h3>Connection Circles</h3>
    <ul>
      <li><b>Visual Indicators:</b> Green circles appear at all wire endpoints and component pins during Select, Wire, and Place modes</li>
      <li><b>Zoom-Responsive Size:</b> Connection circles automatically scale based on zoom level:
        <ul>
          <li>9 pixels at normal zoom (≥75%)</li>
          <li>7 pixels when zoomed out below 75%</li>
          <li>6 pixels at maximum zoom-out (25%)</li>
        </ul>
      </li>
      <li><b>Clickable:</b> Click any connection circle to start a wire or place a component at that exact location</li>
      <li><b>Precise Connections:</b> Connection circles ensure wires connect exactly to component pins and other wire endpoints</li>
    </ul>

    <h2>Zoom &amp; Navigation</h2>
    <h3>Zoom Controls</h3>
    <ul>
      <li><b>Mouse wheel:</b> Zoom in/out centered on cursor</li>
      <li><b>+ button:</b> Zoom in</li>
      <li><b>− button:</b> Zoom out</li>
      <li><b>100% button:</b> Reset zoom and pan to default</li>
      <li><b>Zoom range:</b> 25% to 1000%</li>
      <li><b>Visual Consistency:</b> Crosshairs, connection hints, and connection circles maintain appropriate visual thickness at all zoom levels:
        <ul>
          <li>Crosshairs remain 1 pixel wide regardless of zoom</li>
          <li>Connection hint lines remain 2 pixels wide regardless of zoom</li>
          <li>Connection circles scale proportionally to reduce clutter when zoomed out</li>
        </ul>
      </li>
    </ul>

    <h3>Panning</h3>
    <ul>
      <li>Click <b>Pan</b> mode or press <span class="kbd">P</span>, then drag</li>
      <li><b>Middle mouse button:</b> Click and drag to pan in any mode</li>
    </ul>

    <h2>Moving Components</h2>
    <h3>Mouse Movement</h3>
    <ul>
      <li>Click <b>Move</b> mode or press <span class="kbd">M</span></li>
      <li>Click and drag a component to reposition it</li>
      <li>Component coordinates display in upper left corner during movement</li>
      <li>Editable X and Y coordinate inputs appear in the status bar</li>
      <li><b>Ghost Wires:</b> When dragging components along straight wire paths (SWP), connected wires are shown as semi-transparent ghost outlines during the drag operation</li>
      <li><b>Wire Preservation:</b> Multi-segment perpendicular wires maintain their geometry when components are moved along them</li>
      <li><b>Automatic Wire Breaking:</b> After moving components, wires automatically break at component pins to maintain proper connectivity</li>
    </ul>

    <h3>Keyboard Movement</h3>
    <p>When a component is selected, use arrow keys to move it with precision:</p>
    <ul>
      <li><b>Arrow keys:</b> Move 250 mils (25px) — standard grid movement</li>
      <li><b>Shift+Arrow keys:</b> Move 50 mils (5px) — fine adjustment on the base grid</li>
      <li><b>Shift+Alt+Arrow keys:</b> Move 1 mil (0.1px) — finest precision for exact positioning</li>
      <li>Works in both Select and Move modes</li>
      <li><b>Auto-switch to Move mode:</b> Pressing arrow keys in Select mode automatically switches to Move mode and displays coordinate inputs</li>
      <li>Movements are not snapped to grid — arrow keys provide exact, pre-calculated offsets</li>
      <li>Respects collision detection and pin overlap prevention</li>
      <li>Coordinate display and inputs update in real-time as you move</li>
    </ul>

    <h3>Coordinate Input for Movement</h3>
    <p>Type exact coordinates to move a component to a precise location:</p>
    <ul>
      <li>Select a component in Select or Move mode</li>
      <li>Press <span class="kbd">Ctrl+L</span> to focus the X coordinate input in the status bar</li>
      <li>Type the desired X coordinate (supports units: "100 mils", "2.54 mm", "0.1 in")</li>
      <li>Press <span class="kbd">Tab</span> to move to the Y coordinate input</li>
      <li>Type the desired Y coordinate</li>
      <li>Press <span class="kbd">Enter</span> to move the component to the specified coordinates</li>
      <li>Uses current display units if no unit is specified</li>
    </ul>
    <p class="tip"><i>Tip:</i> Use arrow keys for incremental adjustments, mouse for free positioning, and coordinate input for exact placement at specific coordinates.</p>

    <h2>Wire Manipulation</h2>
    <h3>Stretching Wire Endpoints</h3>
    <p>You can adjust the length of wire segments by dragging their free endpoints:</p>
    
    <h4>Initiating Endpoint Stretch</h4>
    <ul>
      <li>Hover over a free wire endpoint (not connected to a component or another wire)</li>
      <li>Green endpoint circles indicate stretchable endpoints</li>
      <li>Click on the endpoint circle to begin stretching</li>
      <li>Works from any mode except Wire mode</li>
      <li>Automatically switches to Move mode when stretching begins</li>
    </ul>
    
    <h4>During Stretch Operation</h4>
    <ul>
      <li>The endpoint moves along the wire's axis (horizontal or vertical)</li>
      <li>Drag to extend or shrink the wire freely in both directions</li>
      <li>The opposite end of the wire segment remains fixed</li>
      <li>Coordinate display shows the current endpoint position</li>
      <li>Standard snapping behavior applies (50 mil grid by default)</li>
    </ul>
    
    <h4>Completing or Canceling</h4>
    <ul>
      <li><b>Left-click:</b> Confirm the new endpoint position</li>
      <li><b>Right-click:</b> Cancel and restore original position</li>
      <li><b>Escape key:</b> Cancel and restore original position</li>
      <li><b>Auto-deletion:</b> If the wire becomes shorter than 5 pixels when confirmed, it's automatically deleted</li>
    </ul>
    
    <p class="tip"><i>Tip:</i> Endpoint stretching is ideal for adjusting wire lengths without redrawing, especially when fine-tuning schematic layout. You can both extend and shrink wires along their axis.</p>

    <h2>Status Bar Controls</h2>
    <p>The status bar at the bottom of the canvas provides quick access to drawing aids and status information:</p>
    
    <h3>Drawing Aids (Left Section)</h3>
    <ul>
      <li><b>Ortho (O):</b> Toggle orthogonal mode for horizontal/vertical wire routing</li>
      <li><b>Snap (S):</b> Cycle through snap modes (50mil → Grid → Off)</li>
      <li><b>Grid (G):</b> Cycle through grid display (Lines → Dots → Off)</li>
    </ul>
    
    <h3>Visual Aids (Middle Section)</h3>
    <ul>
      <li><b>Crosshair (X):</b> Toggle crosshair cursor style (+ → Full → Off)</li>
      <li><b>Junctions (.):</b> Toggle junction dot visibility at wire intersections</li>
      <li><b>Tracking (T):</b> Toggle connection hints for aligning with nearby wire endpoints</li>
    </ul>
    
    <h3>Settings (Right Section)</h3>
    <ul>
      <li><b>Theme (☀/☾):</b> Toggle between dark and light themes</li>
      <li><b>Units dropdown:</b> Select display units (mm, in, or mils)</li>
    </ul>
    
    <h3>Status Indicators (Far Right)</h3>
    <ul>
      <li><b>Mode:</b> Current editing mode (Select, Wire, Delete, etc.)</li>
      <li><b>Grid:</b> Current spacing between visible grid lines/dots in mils. Shows one of three values:
        <ul>
          <li><b>250 mil</b> — Zoomed out view (every 5th snap point visible)</li>
          <li><b>100 mil</b> — Medium zoom (every 2nd snap point visible)</li>
          <li><b>50 mil</b> — Zoomed in view (every snap point visible)</li>
        </ul>
        This value indicates what spacing you'll get when using "Grid" snap mode.
      </li>
      <li><b>Snap:</b> Current snap mode (50mil, grid, or off)</li>
    </ul>

    <h2>Theme &amp; Units</h2>
    <h3>Dark/Light Theme</h3>
    <ul>
      <li>Click the sun/moon icon in the status bar to toggle</li>
      <li><b>Dark theme:</b> Low-contrast colors ideal for extended use</li>
      <li><b>Light theme:</b> High-contrast for printing or bright environments</li>
      <li>Black wires automatically display as white in dark theme and white wires automatically display as black in light theme</li>
    </ul>

    <h3>Units</h3>
    <p>Choose your preferred measurement units using the dropdown in the status bar:</p>
    <ul>
      <li><b>mm:</b> Millimeters</li>
      <li><b>in:</b> Inches</li>
      <li><b>mils:</b> Thousandths of an inch (1 mil = 0.001")</li>
    </ul>
    <p class="tip"><i>Note:</i> Units affect display and input only; internal coordinates use 100 px/inch (10 mils per user unit).</p>

    <h2>Nets &amp; Connectivity</h2>
    <h3>What are Nets?</h3>
    <p>A <b>net</b> is a group of electrically connected wires and component pins. Nets are essential for circuit analysis and PCB layout.</p>

    <h3>Auto Net Detection</h3>
    <ul>
      <li>Wires touching component pins automatically form nets</li>
      <li>Wires with junctions (dots) are part of the same net</li>
      <li>Default net names: N1, N2, N3, etc.</li>
    </ul>

    <h3>Manual Net Assignment</h3>
    <ul>
      <li>Select a wire and choose a net from the dropdown</li>
      <li>Create new nets with custom names (e.g., VCC, GND, DATA)</li>
      <li>Assign component pins to nets in the Inspector</li>
    </ul>

    <h3>Net Classes</h3>
    <p>Net classes define wire appearance (width, line style, color) for groups of wires. Each net class can have custom properties that are applied to all wires using that class.</p>
    
    <h4>Creating Net Classes</h4>
    <ul>
      <li>In the <b>Project</b> panel, click <b>Add Net</b></li>
      <li>Enter a name (e.g., "Power", "Signal", "Ground")</li>
      <li>Click the <b>✎ edit</b> button to configure properties:
        <ul>
          <li>Wire Width (in current units)</li>
          <li>Line Style (solid, dash, dot, etc.)</li>
          <li>Wire Color with opacity</li>
        </ul>
      </li>
    </ul>

    <h4>Using Net Classes</h4>
    <ul>
      <li><b>Global Wire Stroke:</b> Click the <b>Wire</b> button in the toolbar
        <ul>
          <li>Select a net class from the dropdown for new wires</li>
          <li>Check "Use custom properties" to manually set width, style, and color</li>
          <li>Uncheck to use the selected net class's properties</li>
        </ul>
      </li>
      <li><b>Per-Wire Assignment:</b> Select a wire segment in the Inspector
        <ul>
          <li>Choose a net class to assign the wire to that net (for connectivity)</li>
          <li>Check "Use custom properties" to override visual properties</li>
          <li>Wire belongs to the net class but can have custom appearance</li>
          <li>Each segment can have different net class and custom properties</li>
        </ul>
      </li>
      <li><b>Active Net Class:</b> Click any net name in the Project panel to set it as active
        <ul>
          <li>Active net is shown in bold with a blue indicator (●)</li>
          <li>New wires use the active net class by default</li>
        </ul>
      </li>
    </ul>

    <h4>Net Class vs Custom Properties</h4>
    <ul>
      <li><b>Net Class Properties:</b> Wire inherits width, style, and color from its assigned net class</li>
      <li><b>Custom Properties:</b> Wire uses explicitly set properties independent of net class</li>
      <li><b>Combined Mode:</b> Wire belongs to a net class (for connectivity) but has custom visual properties</li>
      <li>Editing a net class updates all wires using that class's properties</li>
      <li>Wires with custom properties are visually unaffected by net class edits</li>
      <li>Switching from custom to net class properties preserves net class values as starting point</li>
    </ul>

    <h3>Junction Dots</h3>
    <ul>
      <li>Appear automatically where three or more wire segments meet (T-junctions)</li>
      <li>Indicate electrical connection at wire intersections</li>
      <li>Toggle visibility with the <b>Junctions (.)</b> button in the status bar</li>
    </ul>

    <h3>Manual Junction Dot Placement</h3>
    <p>You can manually place or delete junction dots at any location:</p>
    
    <h4>Placing Junction Dots</h4>
    <ol>
      <li>Click the <b>+.</b> button in the toolbar to enter place-junction mode</li>
      <li>Move your cursor to the desired location (wire endpoint, intersection, or component pin)</li>
      <li>Green connection circles appear at valid placement points</li>
      <li>Click to place a junction dot at the nearest valid point within 50 mils</li>
      <li>Continue clicking to place multiple junction dots</li>
      <li>Press <span class="kbd">Enter</span> or right-click to exit and return to Select mode</li>
    </ol>
    
    <h4>Deleting Junction Dots</h4>
    <ol>
      <li>Click the <b>x.</b> button in the toolbar to enter delete-junction mode</li>
      <li>Click on any junction dot within 50 mils to remove it</li>
      <li>Continue clicking to delete multiple junction dots</li>
      <li>Press <span class="kbd">Enter</span> or right-click to exit and return to Select mode</li>
    </ol>
    
    <h4>Junction Dot Behavior</h4>
    <ul>
      <li><b>Automatic Junctions:</b> Created where wire segments form T-junctions (one wire's endpoint touches another wire's interior)</li>
      <li><b>Manual Junctions:</b> User-placed junctions remain in place and are never automatically removed</li>
      <li><b>Smart Snapping:</b> When placing junctions, the editor finds the nearest valid point:
        <ul>
          <li>Wire endpoints (highest priority)</li>
          <li>Component pins</li>
          <li>Wire-to-wire intersection points</li>
        </ul>
      </li>
      <li><b>Precise Placement:</b> Junction dots snap to exact intersection points, not endpoints</li>
      <li><b>50 Mil Tolerance:</b> Click within 50 mils of a valid point to place or delete junction dots</li>
      <li><b>Undo/Redo Support:</b> Junction dot placement and deletion operations can be undone (<span class="kbd">Ctrl+Z</span>) and redone (<span class="kbd">Ctrl+Y</span>)</li>
    </ul>
    
    <h4>Junction Dot Size</h4>
    <p>Control the visual size of junction dots in the Project Settings panel (KiCad-compatible sizes):</p>
    <ul>
      <li><b>Small:</b> 50 mils (1.27mm) — compact size for dense schematics</li>
      <li><b>Medium:</b> 70 mils (1.778mm) — balanced visibility</li>
      <li><b>Large:</b> 90 mils (2.286mm) — maximum visibility for presentations</li>
      <li>Size setting applies to all junction dots (both automatic and manual)</li>
      <li>Visual previews shown in the selector help you choose the right size</li>
    </ul>

    <h2>Project Settings</h2>
    <p>The Project panel (right side) contains global settings that affect the entire schematic:</p>
    
    <h3>Schematic Standard</h3>
    <ul>
      <li><b>ANSI/IEEE (US):</b> Uses zigzag resistor symbols (American style)</li>
      <li><b>IEC (International):</b> Uses rectangular resistor symbols (European style)</li>
      <li>Setting applies to newly placed resistors and polarized capacitors</li>
      <li>Existing components retain their style until manually changed</li>
    </ul>
    
    <h3>Junction Dot Size</h3>
    <ul>
      <li><b>Small:</b> 50 mils (1.27mm) — compact for dense schematics</li>
      <li><b>Medium:</b> 70 mils (1.778mm) — balanced visibility (default)</li>
      <li><b>Large:</b> 90 mils (2.286mm) — maximum visibility</li>
      <li>Visual selector with dot previews at actual rendered size</li>
      <li>Changes apply immediately to all junction dots</li>
      <li>Setting is saved in browser localStorage</li>
    </ul>

    <h2>File Operations</h2>
    <h3>Save</h3>
    <ul>
      <li>Click <b>Save</b> or press <span class="kbd">Ctrl+S</span></li>
      <li>Downloads a JSON file with complete schematic data</li>
      <li>Includes components, wires, nets, and all properties</li>
    </ul>

    <h3>Load</h3>
    <ul>
      <li>Click <b>Load</b> to open a file picker</li>
      <li>Select a previously saved JSON file</li>
      <li>Schematic is restored completely</li>
    </ul>

    <h3>Clear</h3>
    <ul>
      <li>Click <b>Clear</b> or press <span class="kbd">Ctrl+K</span></li>
      <li>Removes all components and wires</li>
      <li>Resets nets and project settings</li>
      <li><b>Warning:</b> This action cannot be undone</li>
    </ul>

    <h2>KiCad Export</h2>
    <p>Export your schematic for use in KiCad EDA:</p>
    <ol>
      <li>Complete your schematic with proper labels and values</li>
      <li>Assign nets to all connections</li>
      <li>Open the Project panel and click <b>Export KiCad</b></li>
      <li>Downloads a <code>.kicad_sch</code> file</li>
      <li>Open in KiCad 6.0 or later</li>
    </ol>
    <p class="note"><i>Note:</i> Ensure all components have footprint assignments for successful PCB import.</p>

    <h2>Keyboard Shortcuts</h2>
    <h3>Modes</h3>
    <ul>
      <li><span class="kbd">V</span> — Select mode</li>
      <li><span class="kbd">W</span> — Wire mode</li>
      <li><span class="kbd">X</span> — Delete mode</li>
      <li><span class="kbd">P</span> — Pan mode</li>
      <li><span class="kbd">M</span> — Move mode</li>
      <li><span class="kbd">1-8</span> — Place component (Resistor through AC source)</li>
    </ul>

    <h3>Component Shortcuts</h3>
    <ul>
      <li><span class="kbd">C</span> — Place standard capacitor</li>
      <li><span class="kbd">Alt+C</span> — Place polarized capacitor</li>
    </ul>

    <h3>Actions</h3>
    <ul>
      <li><span class="kbd">R</span> — Rotate selected component 90° clockwise</li>
      <li><span class="kbd">O</span> — Toggle orthogonal mode</li>
      <li><span class="kbd">S</span> — Cycle snap mode (50mil → Grid → Off)</li>
      <li><span class="kbd">G</span> — Cycle grid display (Lines → Dots → Off)</li>
      <li><span class="kbd">X</span> — Cycle crosshair style (+ → Full → Off)</li>
      <li><span class="kbd">T</span> — Toggle connection tracking on/off</li>
      <li><span class="kbd">Ctrl+L</span> — Activate coordinate input (works in Wire, Place, Move, and Junction modes; cycles through X, Y, Length, Angle when wire drawing)</li>
      <li><span class="kbd">Tab</span> — Switch between coordinate input fields (X → Y → Length → Angle)</li>
      <li><span class="kbd">Esc</span> — Cancel drawing / Deselect / Exit mode / Cancel coordinate input / Cancel endpoint stretch</li>
      <li><span class="kbd">Enter</span> — Finish wire drawing / Exit junction dot mode / Accept coordinate input</li>
      <li><span class="kbd">Delete</span> — Delete selected component or wire</li>
      <li><span class="kbd">Shift</span> — Hold while wiring for temporary orthogonal mode</li>
      <li><span class="kbd">Right-click</span> — Finish wire drawing / Exit junction dot mode / Cancel endpoint stretch</li>
      <li><span class="kbd">Left-click</span> — Confirm endpoint stretch position</li>
    </ul>

    <h3>Component Movement</h3>
    <ul>
      <li><span class="kbd">Arrow keys</span> — Move selected component 250 mils (standard grid)</li>
      <li><span class="kbd">Shift+Arrow keys</span> — Move selected component 50 mils (fine adjustment)</li>
      <li><span class="kbd">Shift+Alt+Arrow keys</span> — Move selected component 1 mil (finest precision)</li>
    </ul>

    <h3>File Operations</h3>
    <ul>
      <li><span class="kbd">Ctrl+S</span> — Save schematic</li>
      <li><span class="kbd">Ctrl+K</span> — Clear schematic</li>
    </ul>

    <h2>Tips &amp; Best Practices</h2>
    <ul>
      <li><b>Start with components:</b> Place all components before wiring</li>
      <li><b>Use labels:</b> Assign reference designators (R1, C1, etc.) to all components</li>
      <li><b>Name important nets:</b> Use meaningful names like VCC, GND, CLK for clarity</li>
      <li><b>Zoom for precision:</b> Use 1000% zoom to verify 50 mil grid alignment - components and connection points are now precisely aligned to the grid</li>
      <li><b>Ortho mode for neatness:</b> Enable orthogonal wiring for cleaner schematics</li>
      <li><b>Use tracking:</b> Enable connection hints to easily align wires with existing endpoints</li>
      <li><b>Snap to wires:</b> Click anywhere along a wire to start a new connection (T-junction)</li>
      <li><b>Connection circles:</b> Click green endpoint markers for precise connections - they show exactly where wires will connect</li>
      <li><b>Stretch endpoints:</b> Click and drag free wire endpoints to adjust wire lengths without redrawing</li>
      <li><b>Move with confidence:</b> Ghost wires show where connections will be maintained when dragging components</li>
      <li><b>Capacitor types:</b> Use <span class="kbd">C</span> for standard capacitors and <span class="kbd">Alt+C</span> for polarized capacitors</li>
      <li><b>Polar coordinates:</b> When drawing wires, use Length and Angle inputs for precise diagonal or angular routing</li>
      <li><b>Wire lengths:</b> Check the Inspector panel to see the exact length of selected wire segments</li>
      <li><b>Check connectivity:</b> Review the net list before export</li>
      <li><b>Save frequently:</b> Use Ctrl+S to save your work regularly</li>
      <li><b>Use wire colors:</b> Color-code power, ground, and signal wires for readability</li>
      <li><b>Grid modes:</b> Switch between Lines and Dots to suit your preference - they're perfectly aligned</li>
      <li><b>Component visibility:</b> Resistor and capacitor symbols are now twice their original size for better visibility and easier selection</li>
    </ul>

    <h2>Troubleshooting</h2>
    <h3>Wires Won't Connect</h3>
    <ul>
      <li>Ensure wire endpoints touch component pins exactly</li>
      <li>Zoom to 1000% to verify snap alignment</li>
      <li>Check that junction dots appear at connections</li>
    </ul>

    <h3>Components Won't Rotate</h3>
    <ul>
      <li>Press <span class="kbd">R</span> only in Place mode or when component is selected</li>
      <li>Use the rotation dropdown in Inspector for precise angles</li>
    </ul>

    <h3>Missing Panels</h3>
    <ul>
      <li>Click the ◀ or ▶ toggle buttons to expand collapsed panels</li>
      <li>Panels can be resized by dragging the divider lines</li>
    </ul>

    <h3>Native Color Picker Issues</h3>
    <ul>
      <li><b>Slider doesn't respond:</b> When using the browser's native color picker (Inspector wire color or Net class dialog), the color slider may not respond until after clicking inside the color gradient area first</li>
      <li><b>Workaround:</b> Click anywhere in the main color gradient window, then the slider will work normally</li>
      <li><b>Alternative:</b> Use the color swatch buttons below the color picker for common colors</li>
      <li><b>Note:</b> This is a browser limitation with how native color inputs initialize their internal state</li>
    </ul>

    <h3>Export Issues</h3>
    <ul>
      <li>Ensure all components have valid labels and footprints</li>
      <li>Verify all nets are properly assigned</li>
      <li>Check browser console for error messages</li>
    </ul>

    <p class="note"><i>For additional help or to report issues, please visit the project repository.</i></p>
  </main>
</body>
</html>
